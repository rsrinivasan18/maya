# MAYA Development Log - 2026-02-25

**Date:** Wednesday, 25 February 2026
**Developer:** Srinivasan
**Session Goal:** Set up complete project structure + build first LangGraph agent
**Status:** Completed

---

## Session Summary

First real coding session for MAYA. Tonight was about getting the foundations right -
directory structure, configuration, and most importantly: a working LangGraph agent
with clear educational comments so the architecture is understood before we build more.

Philosophy followed: *One step at a time. Don't rush. Understand the code before commit.*

---

## What Was Built

### Project Structure
```
maya/
â”œâ”€â”€ .env.example                          # API key template (safe to commit)
â”œâ”€â”€ .gitignore                            # Prevents secrets/cache from being committed
â”œâ”€â”€ requirements.txt                      # Python dependencies
â”œâ”€â”€ run_hello_world.py                    # Entry point - run this to demo MAYA
â”œâ”€â”€ dev_log/
â”‚   â””â”€â”€ 2026-02-25.md                    # This file
â”œâ”€â”€ src/
â”‚   â””â”€â”€ maya/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ agents/
â”‚       â”‚   â””â”€â”€ __init__.py              # Placeholder (8 agents planned - Weeks 2-6)
â”‚       â”œâ”€â”€ config/
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â””â”€â”€ settings.py             # Central config via python-dotenv
â”‚       â”œâ”€â”€ graph/
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â””â”€â”€ hello_world_graph.py    # THE MAIN FILE - first LangGraph agent
â”‚       â””â”€â”€ models/
â”‚           â”œâ”€â”€ __init__.py
â”‚           â””â”€â”€ state.py                # MayaState TypedDict
â””â”€â”€ tests/
    â”œâ”€â”€ __init__.py
    â””â”€â”€ test_hello_world.py             # 15 tests covering all nodes + routing
```

### The Hello World Graph

A 4-node LangGraph with 1 conditional edge. No LLM required - pure Python logic.

```
START
  â†“
[detect_language]       Classifies: "english" | "hindi" | "hinglish"
  â†“
[understand_intent]     Classifies: "greeting" | "question" | "math" | "general"
  â†“
[route_by_intent] â”€â”€â”€â”€  CONDITIONAL EDGE
  â†“             â†“
[greet_response] [help_response]
  â†“             â†“
 END           END
```

---

## LangGraph Concepts Learned Today

| Concept | What It Is | Where in Code |
|---------|-----------|---------------|
| `StateGraph` | Container holding all nodes and edges | `hello_world_graph.py:build_hello_world_graph()` |
| `TypedDict` state | "Baton" passed between nodes | `state.py:MayaState` |
| Node | Python function: receives state â†’ returns partial dict | All `def *_node` functions |
| Fixed edge | `add_edge(A, B)` - always goes A â†’ B | `graph.add_edge(START, "detect_language")` |
| Conditional edge | Routing function picks next node at runtime | `route_by_intent()` + `add_conditional_edges()` |
| `compile()` | Validates graph, prepares for execution | `graph.compile()` |
| `invoke()` | Runs graph synchronously, returns final state | `run_hello_world.py:run_single_conversation()` |

---

## How to Run

```bash
# First time setup
python -m venv .venv
.venv\Scripts\activate           # Windows
# source .venv/bin/activate      # Mac/Linux

pip install -r requirements.txt

# Copy env template (fill in real keys later - not needed for hello world)
cp .env.example .env

# Run the demo
python run_hello_world.py

# Run the tests
pytest tests/ -v
```

---

## Key Decisions Made

| Decision | Choice | Reason |
|----------|--------|--------|
| Package layout | `src/maya/` | Clean, scalable, avoids name collision |
| State design | TypedDict with `steps` debug field | See execution trace while learning |
| Graph complexity | 4 nodes, 1 conditional edge | Simple enough to fully understand |
| No LLM in hello world | Pure Python rule-based | Learn graph structure first |
| `rich` for output | Pretty terminal panels/tables | Better visibility of graph execution |
| Secret handling | Keys in `.env` only, never in code | Secure by design from day 1 |

---

## Next Steps

### Before Committing (Tomorrow Morning Review)
- [ ] Read `src/maya/graph/hello_world_graph.py` top to bottom
- [ ] Run `python run_hello_world.py` - verify all 9 test conversations work
- [ ] Run `pytest tests/ -v` - all 15 tests should pass
- [ ] Understand the `steps` trace output - follow the graph execution

### This Week (Week 1 Remaining)
- [ ] LangGraph Academy modules (office GenAI time)
- [ ] Experiment: add a 5th node for "farewell" intent (goodbye/bye/alvida)
- [ ] Push to GitHub: `feat: MAYA hello world - first LangGraph agent`

### Week 2
- [ ] Add Whisper STT (speech â†’ text)
- [ ] Add Piper TTS (text â†’ speech)
- [ ] Voice conversation loop: speak â†’ graph â†’ speak back

### Week 3
- [ ] Integrate Ollama (local LLM) into `help_response` node
- [ ] Integrate Sarvam API for bilingual responses
- [ ] Replace rule-based logic with actual LLM calls

---

## Learning Notes

### Why start without LLMs?
The graph structure (nodes, edges, state, routing) is the foundation.
LLMs are just one type of node function - they can be swapped in later.
Understanding the graph first means adding LLMs in Week 3 is a surgical change,
not a complete rewrite.

### The conditional edge is MAYA's superpower
Today's `route_by_intent` is a 2-way switch (greeting vs help).
By Week 4, it becomes an 8-way router:
- greeting â†’ Conversation Agent
- math â†’ Math Tutor Agent
- story â†’ Story Agent
- vocab â†’ Vocabulary Agent
- complex STEM â†’ Online Sarvam/Claude
- simple question â†’ Offline local LLM

The LangGraph wiring stays the same. Only the routing function grows.

---

*MAYA is alive! Small, but alive.* ðŸŒ±
